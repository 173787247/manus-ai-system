# 修复端口占用问题

## 问题

启动时出现错误：
```
OSError: Cannot find empty port in range: 7860-7860
```

## 原因

端口7860已被其他程序占用。

## 解决方案

### 方案1: 系统已自动修复（推荐）

系统现在会自动查找可用端口，如果7860被占用，会自动使用其他端口（7861, 7862等）。

启动时会显示实际使用的端口：
```
访问地址: http://localhost:7861
```

### 方案2: 手动检查并关闭占用端口的程序

```powershell
# 查看占用7860端口的程序
netstat -ano | findstr :7860

# 找到PID后，结束进程（替换PID为实际值）
taskkill /PID <PID> /F
```

### 方案3: 使用其他端口

修改 `src/ui/web_ui.py` 中的端口号：
```python
interface.launch(
    server_port=7861,  # 改为其他端口
    ...
)
```

### 方案4: 设置环境变量

```powershell
$env:GRADIO_SERVER_PORT="7861"
python main.py
```

## 验证修复

重新启动系统：
```bash
python run_demo.py
```

如果看到：
```
访问地址: http://localhost:7861
```

说明系统已自动使用新端口。

## 常见占用端口的程序

- 其他Gradio应用
- 之前的Manus AI实例
- 其他Web服务

## 快速解决

最简单的方法：**直接重新运行，系统会自动使用可用端口**

```bash
python run_demo.py
```

查看输出的访问地址即可。

