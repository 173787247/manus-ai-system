# ✅ 端口占用问题已修复

## 问题

启动时出现错误：
```
OSError: Cannot find empty port in range: 7860-7860
```

## 解决方案

✅ **已修复**: 系统现在会自动查找可用端口

如果7860被占用，系统会自动尝试：
- 7861
- 7862
- 7863
- ...（最多尝试10个端口）

## 现在可以正常启动

```bash
python run_demo.py
```

系统会显示实际使用的端口：
```
============================================================
系统已启动！
============================================================
访问地址: http://localhost:7861
============================================================
```

## 如果仍有问题

### 方法1: 关闭占用端口的程序

```powershell
# 查看占用7860的程序
netstat -ano | findstr :7860

# 结束进程（替换PID）
taskkill /PID 23128 /F
taskkill /PID 29680 /F
```

### 方法2: 使用命令行模式（不占用端口）

```bash
python run_demo.py
# 选择 2 (命令行界面)
```

### 方法3: 手动指定端口

修改代码或设置环境变量：
```powershell
$env:GRADIO_SERVER_PORT="7861"
python main.py
```

## 验证

重新运行：
```bash
python run_demo.py
```

应该能正常启动，并显示访问地址。

